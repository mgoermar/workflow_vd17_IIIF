# workflow_vd17_IIIF

Using bibliographic metadata in your research process can be messy and complicated. But it can be of great use to obtain data on a large scale. One can, for example, directly analyse the metadata quantitatively or one can use it to compile a text corpus for further analysis. The workflow and XSLT-script provided here can be used for the later use case.

# How does it work?
In order to use the script you have to run a query via an SRU-API of a library or union catalogue. In the use case the worflow and script were originally developed this was the [VD17-catalogue](http://www.vd17.de/), the retrospective German national bibliography for the 17th century. The aim was to download a corpus of a specific text genre for a limited time period, particularly [Messrelationen](https://en.wikipedia.org/wiki/Messrelation) published between 1618 and 1629. The URL for the respective SRU-query looks like this: https://sru.k10plus.de/vd17?version=2.0&operation=searchRetrieve&query=pica.gat=messrelation+and+pica.jhr=1618-1629&maximumRecords=500&startRecord=1&recordSchema=dc. If you want to search for another genre you can do so by replacing "messrelation" in the URL by another term from the controlled vocabulary of genres of the *Arbeitsgemeinschaft Alte Drucke* ([AAD genres](https://uri.gbv.de/terminology/aadgenres/)). Accordingly you can also search for other years or delete the part "+and+pica.jhr=1618-1629" in the URL, if you want to search the entire VD17.
Currently, the script only works with digitized texts from the Bayerische Staatsbibliothek München (BSB). In the future it would be highly to include other libraries and adapt the script accordingly. For now the restrict the query above to the holdings of the BSB by adding "+and+pica.bib=40004" to the URL. "40004" is the the External Library Number (ELN) of the BSB. These numbers are not very well documented. So the easiest way to find them is to search for the titles held by specific libraries via the links on the [respective overview on the VD17-homepage](http://www.vd17.de/en/about-the-project/membership/).  The links look like that: [https://kxp.k10plus.de/DB=1.28/CMD?&ACT=SRCHA&TRM=bbg+a*+and+bib+40004](https://kxp.k10plus.de/DB=1.28/CMD?&ACT=SRCHA&TRM=bbg+a*+and+bib+40004) (BSB) or [https://kxp.k10plus.de/DB=1.28/CMD?&ACT=SRCHA&TRM=bbg+a*+and+bib+0023](https://kxp.k10plus.de/DB=1.28/CMD?&ACT=SRCHA&TRM=bbg+a*+and+bib+0023) (Herzog August Bibliothek Wolfenbüttel). Accordingly, the example query-URL for the use case above looks like this: https://sru.k10plus.de/vd17?version=2.0&operation=searchRetrieve&query=pica.gat=messrelation+and+pica.jhr=1618-1629+and+pica.bib=40004&maximumRecords=50&startRecord=1&recordSchema=dc.
We get a result in XML which should be stored locally to process it further (see the example file [sru_query_vd17_messrelationen.xml](https://github.com/mgoermar/workflow_vd17_IIIF/blob/main/sru_query_vd17_messrelationen.xml). 
